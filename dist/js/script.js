!function(){for(var e,t=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],s=r.length,n=window.console=window.console||{};s--;)e=r[s],n[e]||(n[e]=t)}(),document.addEventListener("DOMContentLoaded",function(){var e=function(){var e=function(e,t,r,s,n,a,i){this.id=e,this.name=t,this.password=r,this.firstName=s,this.lastName=n,this.dateBirth=a,this.group=i},t=function(e,t){this.id=e,this.name=t},r={users:[],groups:[]},s=-1,n=-1;return r.users[0]=new e(1,"LudBet","pass","Ludwig","Bethvoven","1770-12-15",1),r.users[0]=new e(1,"LudBet","pass","Ludwig","Bethvoven","1770-12-15",1),r.users[1]=new e(2,"WolMoz","pass","Wolfgang","Mozart","1756-01-27",1),r.users[2]=new e(3,"FrydCho","pass","Fryderyk","Chopin","1810-03-01",1),r.users[3]=new e(4,"KryZim","pass","Krystian","Zimerman","1956-12-05",2),r.groups[0]=new t(1,"composer"),r.groups[1]=new t(2,"pianist"),{testing:function(){console.log(r)},getData:function(){return r},getGroupData:function(){return r.groups},addUser:function(t){var s;s=r.users.length>0?r.users[r.users.length-1].id+1:1;var n=new e(s,t.name,t.password,t.firstName,t.lastName,t.dateBirth,t.group);return r.users.push(n),n},addGroup:function(e){var s;s=r.groups.length>0?r.groups[r.groups.length-1].id+1:1;var n=new t(s,e.name);return r.groups.push(n),n},setSelectedUserId:function(e){s=e},getSelectedUserId:function(){return s},setSelectedGroupId:function(e){n=e},getSelectedGroupId:function(){return n},removeUser:function(e){return e>=0&&(r.users.splice(e,1),!0)},removeGroup:function(e){return e>=0&&(r.groups.splice(e,1),!0)},editUser:function(e,t){return e>=0&&(r.users.splice(e,1,t),!0)},editGroup:function(e,t){return e>=0&&(r.groups.splice(e,1,t),!0)},findIdInUsersArray:function(e){var t=-1;for(i=0;i<r.users.length;i++)if(e==r.users[i].id){t=i;break}return t},findIdInGroupsArray:function(e){var t=-1;for(i=0;i<r.groups.length;i++)if(e==r.groups[i].id){t=i;break}return t},changeNameToIdGroup:function(e){for(i=0;i<r.groups.length;i++)if(e.group==r.groups[i].name){e.group=r.groups[i].id;break}return e}}}(),t=function(){var e={nameInput:".nameInput",nameGroupInput:".nameGroupInput",passwordInput:".passwordInput",firstNameInput:".firstNameInput",lastNameInput:".lastNameInput",dateBirthInput:".dateBirthInput",selectUserInput:".selectUserInput",selectGroupInput:".selectGroupInput",addUserBtn:".addUserBtn",editUserBtn:".editUserBtn",remUserBtn:".remUserBtn",userListTable:".userListTable",groupListTable:".groupListTable",idList:".idList",idGroupList:".idGroupList",nameList:".nameList",nameGroupList:".nameGroupList",passwordList:".passwordList",firstNameList:".firstNameList",lastNameList:".lastNameList",dateBirthList:".dateBirthList",groupList:".groupList",dangerClass:".danger",addGroupBtn:".addGroupBtn",editGroupBtn:".editGroupBtn",remGroupBtn:".remGroupBtn"};return{getDOMstrings:function(){return e},printUserList:function(t){for(i=0;i<t.users.length;i++){var r='<tr><th scope="row" class="idList">%id%</th><td class="nameList">%name%</td><td class="passwordList">%password%</td><td class="firstNameList">%firstName%</td><td class="lastNameList">%lastName%</td><td class="dateBirthList">%dateBirth%</td><td class="groupList">%group%</td></tr>',s=r.replace("%name%",t.users[i].name),s=s.replace("%id%",t.users[i].id),s=s.replace("%password%",t.users[i].password),s=s.replace("%firstName%",t.users[i].firstName),s=s.replace("%lastName%",t.users[i].lastName),s=s.replace("%dateBirth%",t.users[i].dateBirth),s=s.replace("%group%",t.groups[t.users[i].group-1].name);$(e.userListTable).append(s)}},printGroupList:function(t){for(i=0;i<t.groups.length;i++){var r='<tr><th scope="row" class="idGroupList">%id%</th><td class="nameGroupList">%name%</td></tr>',s=r.replace("%name%",t.groups[i].name),s=s.replace("%id%",t.groups[i].id);$(e.groupListTable).append(s)}},printSelectInputInUserList:function(t){for(i=0;i<t.groups.length;i++){var r='<option value="'+t.groups[i].name+'">%option%</option>',s=r.replace("%option%",t.groups[i].name);$(e.selectUserInput).append(s)}},removeSelectInputInUserList:function(){$(e.selectUserInput).empty()},getInputsValues:function(){return{name:$(e.nameInput).val(),password:$(e.passwordInput).val(),firstName:$(e.firstNameInput).val(),lastName:$(e.lastNameInput).val(),dateBirth:$(e.dateBirthInput).val(),group:$(e.selectUserInput).val()}},getInputsGroupValues:function(){return{name:$(e.nameGroupInput).val()}},clearInputs:function(){$(e.nameInput).val(""),$(e.passwordInput).val(""),$(e.firstNameInput).val(""),$(e.lastNameInput).val(""),$(e.dateBirthInput).val("")},clearGroupInputs:function(){$(e.nameGroupInput).val("")},takeDataFromRow:function(t){var r=$(t).parent();return{id:$(r).find(e.idList).text(),name:$(r).find(e.nameList).text(),password:$(r).find(e.passwordList).text(),firstName:$(r).find(e.firstNameList).text(),lastName:$(r).find(e.lastNameList).text(),dateBirth:$(r).find(e.dateBirthList).text(),group:$(r).find(e.groupList).text()}},takeGroupNameData:function(t){var r=$(t).parent();return{id:$(r).find(e.idGroupList).text(),name:$(r).find(e.nameGroupList).text()}},putSelectedDataInInputs:function(t){$(e.nameInput).val(t.name),$(e.passwordInput).val(t.password),$(e.firstNameInput).val(t.firstName),$(e.lastNameInput).val(t.lastName),$(e.dateBirthInput).val(t.dateBirth),$(e.selectUserInput).val(t.group)},putSelectedDataInGroupInputs:function(t){$(e.nameGroupInput).val(t.name)},removeUserList:function(){$(e.userListTable).empty()},removeGroupList:function(){$(e.groupListTable).empty()}}}();(function(t,r){var s=r.getDOMstrings(),n=function(){$(s.addUserBtn).click(u),$(s.remUserBtn).click(p),$(s.editUserBtn).click(d),$(s.userListTable).click(function(e){a(e.target)}),$(s.groupListTable).click(function(e){i(e.target)}),$(s.addGroupBtn).click(o),$(s.remGroupBtn).click(l),$(s.editGroupBtn).click(c)},a=function(t){var n=s.dangerClass.slice(1),a=r.takeDataFromRow(t);0===$(s.dangerClass).length?($(t).parent().addClass(n),r.putSelectedDataInInputs(a),e.setSelectedUserId(a.id)):!1===$(t).parent().hasClass(n)?($(s.dangerClass).removeClass(n),$(t).parent().addClass(n),r.putSelectedDataInInputs(a),e.setSelectedUserId(a.id)):($(s.dangerClass).removeClass(n),r.clearInputs(),e.setSelectedUserId(-1))},i=function(t){var n=s.dangerClass.slice(1),a=r.takeGroupNameData(t);0===$(s.dangerClass).length?($(t).parent().addClass(n),r.putSelectedDataInGroupInputs(a),e.setSelectedGroupId(a.id)):!1===$(t).parent().hasClass(n)?($(s.dangerClass).removeClass(n),$(t).parent().addClass(n),r.putSelectedDataInGroupInputs(a),e.setSelectedGroupId(a.id)):($(s.dangerClass).removeClass(n),r.clearGroupInputs(),e.setSelectedUserId(-1))},u=function(){var t=r.getInputsValues(),s=e.changeNameToIdGroup(t);r.clearInputs();var n=e.addUser(s),a=e.getGroupData(),i={users:[n],groups:a};r.printUserList(i)},o=function(){var t=r.getInputsGroupValues();r.clearGroupInputs();var s=e.addGroup(t),n={users:"",groups:[s]};r.printGroupList(n),r.removeSelectInputInUserList();var a=e.getData();r.printSelectInputInUserList(a)},p=function(){var t=e.getSelectedUserId();if(t<0)console.log("Please select user.");else{var s=e.findIdInUsersArray(t);!0===e.removeUser(s)?(console.log("user removed"),r.removeUserList(),r.clearInputs(),r.printUserList(e.getData())):console.log("user not found")}},l=function(){var t=e.getSelectedGroupId();if(t<0)console.log("Please select user.");else{var s=e.findIdInGroupsArray(t);if(!0===e.removeGroup(s)){console.log("user removed"),r.removeGroupList(),r.clearGroupInputs(),r.printGroupList(e.getData()),r.removeSelectInputInUserList();var n=e.getData();r.printSelectInputInUserList(n)}else console.log("group not found")}},d=function(){var t=e.getSelectedUserId();if(t<0)console.log("Please select user.");else{var s=e.findIdInUsersArray(t),n=r.getInputsValues();n.id=t;var a=e.changeNameToIdGroup(n);!0===e.editUser(s,a)?(console.log("user edited"),r.removeUserList(),r.printUserList(e.getData()),r.clearInputs()):console.log("user not found")}},c=function(){var t=e.getSelectedGroupId();if(t<0)console.log("Please select user.");else{var s=e.findIdInGroupsArray(t),n=r.getInputsGroupValues();n.id=t;var a=e.changeNameToIdGroup(n);if(!0===e.editGroup(s,a)){console.log("user edited"),r.removeGroupList(),r.printGroupList(e.getData()),r.clearGroupInputs(),r.removeSelectInputInUserList();var i=e.getData();r.printSelectInputInUserList(i)}else console.log("user not found")}};return{init:function(){console.log("App has started");var t=e.getData();r.printUserList(t),r.printGroupList(t),r.printSelectInputInUserList(t),n()}}})(0,t).init()});