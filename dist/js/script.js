!function(){for(var e,t=function(){},s=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=s.length,a=window.console=window.console||{};r--;)e=s[r],a[e]||(a[e]=t)}(),document.addEventListener("DOMContentLoaded",function(){var e=function(){var e=function(e,t,s,r,a,n,i){this.id=e,this.name=t,this.password=s,this.firstName=r,this.lastName=a,this.dateBirth=n,this.group=i},t=function(e,t){this.id=e,this.name=t},s={users:[],groups:[]},r=-1,a=-1;return s.users[0]=new e(1,"LudBet","pass","Ludwig","Bethvoven","1770-12-15",1),s.users[0]=new e(1,"LudBet","pass","Ludwig","Bethvoven","1770-12-15",1),s.users[1]=new e(2,"WolMoz","pass","Wolfgang","Mozart","1756-01-27",1),s.users[2]=new e(3,"FrydCho","pass","Fryderyk","Chopin","1810-03-01",1),s.users[3]=new e(4,"KryZim","pass","Krystian","Zimerman","1956-12-05",2),s.groups[0]=new t(1,"composer"),s.groups[1]=new t(2,"pianist"),{testing:function(){console.log(s)},getData:function(){return s},getGroupData:function(){return s.groups},addUser:function(t){var r=s.users[s.users.length-1].id+1,a=new e(r,t.name,t.password,t.firstName,t.lastName,t.dateBirth,t.group);return s.users.push(a),a},setSelectedUserId:function(e){r=e},getSelectedUserId:function(){return r},setSelectedGroupId:function(e){a=e},getSelectedGropId:function(){return a},removeUser:function(e){return e>=0&&(s.users.splice(e,1),!0)},editUser:function(e,t){return e>=0&&(s.users.splice(e,1,t),!0)},findIdInArray:function(e){var t=-1;for(i=0;i<s.users.length;i++)if(e==s.users[i].id){t=i;break}return t},changeNameToIdGroup:function(e){for(i=0;i<s.groups.length;i++)if(e.group==s.groups[i].name){e.group=s.groups[i].id;break}return e}}}(),t=function(){var e={nameInput:".nameInput",nameGroupInput:".nameGroupInput",passwordInput:".passwordInput",firstNameInput:".firstNameInput",lastNameInput:".lastNameInput",dateBirthInput:".dateBirthInput",selectGroupInput:".selectGroupInput",addUserBtn:".addUserBtn",editUserBtn:".editUserBtn",remUserBtn:".remUserBtn",userListTable:".userListTable",groupListTable:".groupListTable",idList:".idList",nameList:".nameList",nameGroupList:".nameGroupList",passwordList:".passwordList",firstNameList:".firstNameList",lastNameList:".lastNameList",dateBirthList:".dateBirthList",groupList:".groupList",dangerClass:".danger",addGroupBtn:".addGroupBtn",editGroupBtn:".editGroupBtn",remGroupBtn:".remGroupBtn"};return{getDOMstrings:function(){return e},printUserList:function(t){for(i=0;i<t.users.length;i++){var s='<tr><th scope="row" class="idList">%id%</th><td class="nameList">%name%</td><td class="passwordList">%password%</td><td class="firstNameList">%firstName%</td><td class="lastNameList">%lastName%</td><td class="dateBirthList">%dateBirth%</td><td class="groupList">%group%</td></tr>',r=s.replace("%name%",t.users[i].name),r=r.replace("%id%",t.users[i].id),r=r.replace("%password%",t.users[i].password),r=r.replace("%firstName%",t.users[i].firstName),r=r.replace("%lastName%",t.users[i].lastName),r=r.replace("%dateBirth%",t.users[i].dateBirth),r=r.replace("%group%",t.groups[t.users[i].group-1].name);$(e.userListTable).append(r)}},printGroupList:function(t){for(console.log(t),i=0;i<t.groups.length;i++){var s='<tr><th scope="row" class="idGroupList">%id%</th><td class="nameGroupList">%name%</td></tr>',r=s.replace("%name%",t.groups[i].name),r=r.replace("%id%",t.groups[i].id);$(e.groupListTable).append(r)}},printSelectGroupInput:function(e){for(i=0;i<e.groups.length;i++){var t='<option value="'+e.groups[i].name+'">%option%</option>',s=t.replace("%option%",e.groups[i].name);$(".selectGroupInput").append(s)}},getInputsValues:function(){return{name:$(e.nameInput).val(),password:$(e.passwordInput).val(),firstName:$(e.firstNameInput).val(),lastName:$(e.lastNameInput).val(),dateBirth:$(e.dateBirthInput).val(),group:$(e.selectGroupInput).val()}},clearInputs:function(){$(e.nameInput).val(""),$(e.passwordInput).val(""),$(e.firstNameInput).val(""),$(e.lastNameInput).val(""),$(e.dateBirthInput).val("")},clearGroupInputs:function(){$(e.nameGroupInput).val("")},takeDataFromRow:function(t){var s=$(t).parent();return{id:$(s).find(e.idList).text(),name:$(s).find(e.nameList).text(),password:$(s).find(e.passwordList).text(),firstName:$(s).find(e.firstNameList).text(),lastName:$(s).find(e.lastNameList).text(),dateBirth:$(s).find(e.dateBirthList).text(),group:$(s).find(e.groupList).text()}},takeGroupNameData:function(t){var s=$(t).parent();return{name:$(s).find(e.nameGroupList).text()}},putSelectedDataInInputs:function(t){$(e.nameInput).val(t.name),$(e.passwordInput).val(t.password),$(e.firstNameInput).val(t.firstName),$(e.lastNameInput).val(t.lastName),$(e.dateBirthInput).val(t.dateBirth),$(e.selectGroupInput).val(t.group)},putSelectedDataInGroupInputs:function(t){$(e.nameGroupInput).val(t.name)},removeUserList:function(){$(e.userListTable).empty()}}}();(function(t,s){var r=s.getDOMstrings(),a=function(){$(r.addUserBtn).click(u),$(r.userListTable).click(function(e){n(e.target)}),$(r.groupListTable).click(function(e){i(e.target)}),$(r.remUserBtn).click(o),$(r.editUserBtn).click(p)},n=function(t){var a=r.dangerClass.slice(1),n=s.takeDataFromRow(t);0===$(r.dangerClass).length?($(t).parent().addClass(a),s.putSelectedDataInInputs(n),e.setSelectedUserId(n.id)):!1===$(t).parent().hasClass(a)?($(r.dangerClass).removeClass(a),$(t).parent().addClass(a),s.putSelectedDataInInputs(n),e.setSelectedUserId(n.id)):($(r.dangerClass).removeClass(a),s.clearInputs(),e.setSelectedUserId(-1))},i=function(t){var a=r.dangerClass.slice(1),n=s.takeGroupNameData(t);0===$(r.dangerClass).length?($(t).parent().addClass(a),s.putSelectedDataInGroupInputs(n),e.setSelectedGroupId(n.id)):!1===$(t).parent().hasClass(a)?($(r.dangerClass).removeClass(a),$(t).parent().addClass(a),s.putSelectedDataInGroupInputs(n),e.setSelectedGroupId(n.id)):($(r.dangerClass).removeClass(a),s.clearGroupInputs(),e.setSelectedUserId(-1))},u=function(){var t=s.getInputsValues(),r=e.changeNameToIdGroup(t);s.clearInputs();var a=e.addUser(r),n=e.getGroupData(),i={users:[a],groups:n};s.printUserList(i)},o=function(){var t=e.getSelectedUserId();if(t<0)console.log("Please select user.");else{var r=e.findIdInArray(t);!0===e.removeUser(r)?(console.log("user removed"),s.removeUserList(),s.clearInputs(),s.printUserList(e.getData())):console.log("user not found")}},p=function(){var t=e.getSelectedUserId();if(console.log("selectedId"),console.log(t),t<0)console.log("Please select user.");else{var r=e.findIdInArray(t),a=s.getInputsValues();a.id=t;var n=e.changeNameToIdGroup(a);!0===e.editUser(r,n)?(console.log("user edited"),s.removeUserList(),s.printUserList(e.getData()),s.clearInputs()):console.log("user not found")}};return{init:function(){console.log("App has started");var t=e.getData();s.printUserList(t),s.printGroupList(t),s.printSelectGroupInput(t),a()}}})(0,t).init()});